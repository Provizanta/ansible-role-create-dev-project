---

- name: establish unittest frameworks   # noqa 401
  git:
    repo: "{{ frameworks[item]['repo'] }}"
    dest: "{{ project['path'] }}/include/{{ item }}"
    update: false
  when:
    - build != 'cmake'
    - item in frameworks
    - "'repo' in frameworks[item]"
  loop: "{{ test['unittest'] | default([]) }}"

# - name: ensure external dependency physical absence
#   file:
#     path: "{{ project['path'] }}/include/{{ item }}"
#     state: absent
#   when:
#     - item in frameworks
#     - "'repo' in frameworks[item]"
#   loop: "{{ test['unittest'] | default([]) }}"
#
# - name: establish external dependencies in CMake
#   debug:
#     msg: "ESTABLISHING..."
